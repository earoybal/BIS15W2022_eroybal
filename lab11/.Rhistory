knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(janitor)
library(here)
library(naniar)
install.packages("gapminder")
library("gapminder")
knitr::opts_chunk$set(echo = TRUE)
setwd('C:/Users/royba/OneDrive - University of California, Davis/Backup/Documents/github/BIS15W2022_eroybal/Class Project')
library(tidyverse)
library(naniar)
library(janitor)
toxicity <- read.csv('toxicitydata_2022-01-07.csv')
toxicity <- toxicity %>%
clean_names()
head(toxicity)
table(toxicity$StationName)
nrow(toxicity)
colnames(toxicity)
anyNA(toxicity)
toxicity_short <- toxicity %>%
filter(near(latitude, 38.73, tol = 1), near(longitude, -121.81, tol = 1))
toxicity_short
write.csv(toxicity_short, 'near_yolo_toxicity.csv')
toxicity_davis <- toxicity %>%
filter(sample_agency == 'University of California Davis-Aquatic Toxicology Lab')
toxicity_davis <- toxicity %>%
filter(sample_agency == 'University of California Davis-Aquatic Toxicology Lab')
nrow(toxicity_davis)
colname(toxicology_davis)
colnames(toxicology_davis)
colnames(toxicity_davis)
select(-c(station_code, location_code, sample_type_code, lab_sample_id, batch_verification_code, compliance_code, sample_comments, collection_comments, tox_test_comments, time_point_comments, tox_result_comments, tox_batch_comments, event_code, protocol_code, lab_submission_code, location_detail_wq_comments, sample_id)
names(toxicity_davis)
toxicity_davis <- toxicity_davis %>%
select(-c(station_code, location_code, sample_type_code, lab_sample_id, batch_verification_code, compliance_code, sample_comments, collection_comments, tox_test_comments, time_point_comments, tox_result_comments, tox_batch_comments, event_code, protocol_code, lab_submission_code, location_detail_wq_comments, sample_id))
names(toxicity_davis)
toxicity_davis <- toxicity %>%
filter(str_detect('University of California Davis'))
toxicity_davis <- toxicity %>%
filter(str_detect('University of California Davis'))
toxicity_davis <- toxicity %>%
filter(sample_agency== str_detect('University of California Davis'))
toxicity_davis <- toxicity %>%
filter(sample_agency == str_detect('University of California Davis'))
toxicity_davis <- toxicity %>%
filter(sample_agency == str_detect("University of California Davis"))
?str_detect()
toxicity_davis <- toxicity %>%
filter(str_detect(sample_agency, "University of California Davis"))
toxicity_davis <- toxicity_davis %>%
select(-c(station_code, location_code, sample_type_code, lab_sample_id, batch_verification_code, compliance_code, sample_comments, collection_comments, tox_test_comments, time_point_comments, tox_result_comments, tox_batch_comments, event_code, protocol_code, lab_submission_code, location_detail_wq_comments, sample_id))
toxicity_davis$sample_agency
table(toxicity_davis$sample_agency)
toxicity_davis <- toxicity %>%
filter(str_detect(sample_agency, "University of California Davis-Aquatic Toxicology Lab"))
toxicity_davis <- toxicity_davis %>%
select(-c(station_code, location_code, sample_type_code, lab_sample_id, batch_verification_code, compliance_code, sample_comments, collection_comments, tox_test_comments, time_point_comments, tox_result_comments, tox_batch_comments, event_code, protocol_code, lab_submission_code, location_detail_wq_comments, sample_id))
table(toxicity_davis$sample_agency
table(toxicity_davis$sample_agency
toxicity_davis <- toxicity_davis %>%
select(-c(station_code, location_code, sample_type_code, lab_sample_id, batch_verification_code, compliance_code, sample_comments, collection_comments, tox_test_comments, time_point_comments, tox_result_comments, tox_batch_comments, event_code, protocol_code, lab_submission_code, location_detail_wq_comments, sample_id))
toxicity_davis <- toxicity %>%
filter(str_detect(sample_agency, "University of California Davis-Aquatic Toxicology Lab"))
toxicity_davis <- toxicity_davis %>%
select(-c(station_code, location_code, sample_type_code, lab_sample_id, batch_verification_code, compliance_code, sample_comments, collection_comments, tox_test_comments, time_point_comments, tox_result_comments, tox_batch_comments, event_code, protocol_code, lab_submission_code, location_detail_wq_comments, sample_id))
table(toxicity_davis$sample_agency
table(toxicity_davis$sample_agency)
toxicity_davis <- toxicity %>%
filter(str_detect(sample_agency, "University of California Davis-Aquatic Toxicology Lab"))
toxicity_davis <- toxicity_davis %>%
select(-c(station_code, location_code, sample_type_code, lab_sample_id, batch_verification_code, compliance_code, sample_comments, collection_comments, tox_test_comments, time_point_comments, tox_result_comments, tox_batch_comments, event_code, protocol_code, lab_submission_code, location_detail_wq_comments, sample_id))
table(toxicity_davis$sample_agency)
?write.csv()
write.csv(toxicity_davis, file = "toxicity_davis.csv")
